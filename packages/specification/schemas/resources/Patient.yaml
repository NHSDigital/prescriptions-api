type: object
required:
  - resourceType
  - identifier
  - name
  - gender
  - birthDate
  - address
  - telecom
  - generalPractitioner
description: The patient the prescription is for.
additionalProperties: false
properties:
  resourceType:
    type: string
    description: FHIR resource type.
    default: Patient
  identifier:
    type: array
    description: The patient's NHS number.
    items:
      $ref: ../fragments/identifiers.yaml#/NhsNumber
  name:
    type: array
    description: The patient's name. A prescription will only contain a single name and address for the patient.
    items:
      type: object
      properties:
        use:
          type: string
          description: |
            How this name will be used.
            * usual - Known as, conventional or the one patient normally uses. A patient always has a usual name.
            * temp - An alias or temporary name. This may also be used for temporary names assigned at birth or in emergency situations.
            * nickname - A name that the patient prefers to be addressed by, but is not part of their usual name.
            * old - This name is no longer in use (or was never correct, but retained for records).
            * maiden - Name changed for Marriage. A name used prior to changing name because of marriage. This term is not gender specific. The use of this term does not imply any particular history for a person's name.
            The following use codes are included in the [name-use](https://www.hl7.org/fhir/valueset-name-use.html) value set, but should not be used and is not be returned as part of a retrieval.
            * official - The formal name as registered in an official (government) registry, but which name might not be commonly used. May be called "legal name".
            * anonymous - Anonymous assigned name, alias, or pseudonym (used to protect a person's identity for privacy reasons).
          enum: [usual, temp, nickname, old, maiden]
          example: usual
        family:
          type: string
          maxLength: 35
          description: Family name (often called Surname).
          example: Smith
        given:
          type: array
          maxItems: 5
          description: |
            Given names, including any middle names.
            Each name(s) will be a separate item in the list. The first given name may include multiple names, separated by a space.
            Subsequent names will be broken down into list items. For example, the input `[Jane Marie Anne, Jo Adele]` returns `[Jane Marie Anne, Jo, Adele]`.
          example: [Jane Marie Anne, Jo, Adele]
          items:
            type: string
            maxLength: 35
            example: Jane
        prefix:
          type: array
          description: Name prefixes, titles, and prenominals.
          example: [Mrs]
          items:
            type: string
            example: Mrs
  gender:
    type: string
    description: |
      Classification of the gender of a patient. The classification is phenotypical rather than genotypical, i.e. it does not provide codes for medical or scientific purposes.
      It is the administrative gender that the patient wishes to be known as. In some cases, this may not be the same as the patientâ€™s registered birth gender, or their current clinical gender.
    enum: [male, female, other, unknown]
    example: female
  birthDate:
    type: string
    description: |
      The date on which the patient was born or is officially deemed to have been born.
      It is a date in the format `yyyy-mm-dd`. Due to data quality issues on a small number of patients `yyyy-mm` and `yyyy` format may also be returned.
      When a patient tagged as `very restricted` is retrieved, birth date is removed from the response.
    example: "2023-06-02"
    format: date
  address:
    type: array
    description: The patient's address. A prescription must only contain a single name and address for the patient.
    items:
      $ref: ../fragments/address.yaml
  telecom:
    type: array
    description: The patient's telephone number.
    items:
      $ref: ../fragments/telecom.yaml
  generalPractitioner:
    type: array
    description: General practice (not practitioner) with which the patient is or was registered.
    items:
      type: object
      properties:
        identifier:
          $ref: ../fragments/identifiers.yaml#/OdsOrganisationCode
